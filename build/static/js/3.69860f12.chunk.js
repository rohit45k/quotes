(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[3],{36:function(e,t,c){e.exports={comments:"Comments_comments__1N9-0"}},37:function(e,t,c){e.exports={item:"CommentItem_item__2UHPx"}},38:function(e,t,c){e.exports={comments:"CommentsList_comments__2JVDk"}},39:function(e,t,c){e.exports={form:"NewCommentForm_form__1d8I5",loading:"NewCommentForm_loading__1ciuv",control:"NewCommentForm_control__1XU0h",actions:"NewCommentForm_actions__2Goke"}},41:function(e,t,c){"use strict";c.r(t);var n=c(6),s=c(1),o=c(2),m=c(13),r=c(14),a=c(10),i=c(36),d=c.n(i),j=c(37),l=c.n(j),u=c(0),b=function(e){return Object(u.jsx)("li",{className:l.a.item,children:Object(u.jsx)("p",{children:e.text})})},x=c(38),f=c.n(x),O=function(e){return Object(u.jsx)("ul",{className:f.a.comments,children:e.comments.map((function(e){return Object(u.jsx)(b,{text:e.text},e.id)}))})},h=c(39),p=c.n(h),_=function(e){var t=Object(s.useRef)(),c=Object(m.a)(r.a),n=c.sendRequest,o=c.status,i=c.error,d=e.onAddedComment;Object(s.useEffect)((function(){"completed"!==o||i||d()}),[o,i,d]);var j=function(c){c.preventDefault(),n({quoteId:e.quoteId,commentData:{text:t.current.value}})};return Object(u.jsxs)("form",{className:p.a.form,onSubmit:j,children:["pending"===o&&Object(u.jsx)("div",{className:"centered",children:Object(u.jsx)(a.a,{})}),Object(u.jsxs)("div",{className:p.a.control,onSubmit:j,children:[Object(u.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(u.jsx)("textarea",{id:"comment",rows:"5",ref:t})]}),Object(u.jsx)("div",{className:p.a.actions,children:Object(u.jsx)("button",{className:"btn",children:"Add Comment"})})]})};t.default=function(){var e=Object(s.useState)(!1),t=Object(n.a)(e,2),c=t[0],i=t[1],j=Object(o.i)().qId,l=Object(m.a)(r.c,!0),b=l.sendRequest,x=l.status,f=l.data,h=l.error;Object(s.useEffect)((function(){b(j)}),[j,b]);var p,N=Object(s.useCallback)((function(){b(j)}),[j,b]);return"pending"===x&&(p=Object(u.jsx)("div",{className:"centered",children:Object(u.jsx)(a.a,{})})),h&&(p=Object(u.jsx)("p",{className:"centered focus",children:h})),"completed"!==x||f&&0!==f.length||(p=Object(u.jsx)("p",{className:"centered focus",children:"Be the first one to comment"})),"completed"===x&&(f||f.length>0)&&(p=Object(u.jsx)(O,{comments:f})),Object(u.jsxs)("section",{className:d.a.comments,children:[Object(u.jsx)("h2",{children:"User Comments"}),!c&&Object(u.jsx)("button",{className:"btn",onClick:function(){i(!0)},children:"Add a Comment"}),c&&Object(u.jsx)(_,{quoteId:j,onAddedComment:N}),p]})}}}]);
//# sourceMappingURL=3.69860f12.chunk.js.map